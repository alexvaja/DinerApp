<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<div>
		<form action="#" th:action="@{/menuView}" th:object="${session.menuViewModel}" method="post">
			<div>
				<h1> Adaugare meniu </h1>
				
				<div th:if="${addMenuIsAvailable == True}">
					
					<label>Titlu:</label>
					<input type="text" name="menu_title" th:value="${title}" />
					<label>Data:</label>
					<input type="date" name="menu_date" th:value="${date}"/>
					
					<div th:each="dish : *{dishes}">
						<br/>
						<label>Selecteaza Categoria: </label>
						<select> 
							<option>...</option>
							<option th:each="categoryItem : ${dish.categories}"
									th:text="${categoryItem.category.name}"/>
						</select>
						
						<br/>
						
						<div>
							<table>
								<thead>
									<tr>
										<th>ID</th>
										<th>NUME</th>
										<th>INGREDIENTE</th>
										<th>GREUTATE</th>
										<th>PRET</th>
										<th>SELECTAT</th>
									</tr>
								</thead>
		
								<tbody>
									<tr th:each="foodItem, iter : ${dish.foods}">
										<td th:text="${foodItem.food.id}"></td>
										<td th:text="${foodItem.food.name}"></td>
										<td th:text="${foodItem.food.ingredients}"></td>
										<td th:text="${foodItem.food.weight}"></td>
										<td th:text="${foodItem.food.price}"></td>
										<td>
											<input name = "verif" type="checkbox" th:checked="${foodItem.selected}" th:value="${iter.index}"/>	
<!-- 											<th:block th:each="savedFood : ${dish.foodItems}">
												<th:block th:if="${savedFood} == ${food}">
													<input type="checkbox" checked="checked"/>
													<th:block th:with="variable = {True}"></th:block>
												</th:block>
											</th:block>	
											<th:block th:if="variable"></th:block> -->
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<br/>
					</div>
	
					<input name="submit" type="submit" th:value="AddMenu" />
	
					<p>
						<input name="submit" type="submit" value="Cancel" /> 
						<input name="submit" type="submit" th:value="SaveAll" />
					</p>
				</div>

				<div th:if="${addMenuIsAvailable == False}">
					<input name="submit" type="submit" th:value="AddMenu" />
				</div>
			</div>
		</form>
	</div>
</html>